<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Algum Creations Billing 2026</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
/* ‚úÖ YOUR ORIGINAL CSS UNTOUCHED */
body{
  font-family:'Segoe UI',sans-serif;
  margin:0;
  padding:20px;
  background:linear-gradient(135deg,#1e1e2f,#2b1055);
  color:white;
}

.container{
  max-width:1000px;
  margin:auto;
  background:#111827;
  padding:25px;
  border-radius:20px;
  box-shadow:0 0 40px rgba(255,215,0,0.3);
}

.brand{text-align:center;margin-bottom:20px;}
.brand h1{
  margin:0;
  font-size:32px;
  background:linear-gradient(45deg,gold,#ffcc00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.brand p{color:#ccc;}

input, select{
  padding:10px;
  border-radius:10px;
  border:none;
  font-size:14px;
  margin-bottom:10px;
  background:#1f2937;
  color:white;
}

button{
  padding:12px 18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:bold;
  margin-top:10px;
  transition:0.3s;
}

.primary{background:linear-gradient(45deg,#ff9800,#ff5722);color:white;}
.secondary{background:linear-gradient(45deg,#25D366,#128C7E);}
.download{background:linear-gradient(45deg,#2196f3,#3f51b5);}
.thermal{background:linear-gradient(45deg,#ff00cc,#3333ff);}
button:hover{transform:scale(1.05);}

.itemRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}

.invoice{
  background:white;
  color:black;
  padding:25px;
  border-radius:15px;
  position:relative;
}

.statusBadge{
  position:absolute;
  top:20px;
  right:20px;
  padding:8px 15px;
  border-radius:20px;
  font-weight:bold;
  color:white;
}

.paid{ background:green; }
.due{ background:red; }

.invoice table{
  width:100%;
  border-collapse:collapse;
  margin-top:15px;
}

.invoice th{
  background:#111827;
  color:white;
}

.invoice th, .invoice td{
  padding:10px;
  border:1px solid #ddd;
  text-align:center;
}

.totalBox{
  margin-top:15px;
  text-align:right;
  font-weight:bold;
  font-size:16px;
}
</style>
</head>

<body>

<div class="container">

<div class="brand">
<h1>ALGUM CREATIONS</h1>
<p>Creative Design ‚Ä¢ Branding ‚Ä¢ Digital Solutions</p>
</div>

<input type="text" id="customer" placeholder="Client Name" style="width:100%;">
<input type="tel" id="mobile" value="+91" style="width:100%;">

<div id="items"></div>

<button class="primary" onclick="addRow()">+ Add Service</button>

<br><br>

<input type="number" id="discount" placeholder="Discount Amount ‚Çπ" style="width:200px;">

<br><br>

<select id="paymentMode">
<option value="Online">Online</option>
<option value="Cash">Cash</option>
</select>

<input type="number" id="paidAmount" placeholder="Paid Amount ‚Çπ">

<br><br>

<button class="primary" onclick="createBill()">Generate Invoice</button>

<div id="billPreview" style="margin-top:30px;"></div>

<div id="afterButtons" style="display:none;">
<button class="download" onclick="downloadBill()">Download PNG</button>
<button class="download" onclick="downloadPDF()">Download PDF</button>
<button class="secondary" onclick="shareWhatsApp()">WhatsApp</button>
<button class="thermal" onclick="window.print()">Print</button>
</div>

</div>

<script>

const UPI_ID="tinu01jmp@okhdfcbank";
let upiLink="";

const services=[
{name:"Single Page Poster",price:349,cost:100},
{name:"Signature Poster Design",price:499,cost:150},
{name:"Duo Poster Pack (2 Designs)",price:649,cost:200},
{name:"Trio Poster Pack (3 Designs)",price:949,cost:300},
{name:"Ultimate Poster Pack (4 Designs)",price:1199,cost:400},
{name:"Classic Single Page Invitation",price:499,cost:150},
{name:"Luxury Single Page Invitation",price:649,cost:200},
{name:"Grand 4-Page Wedding Invitation",price:999,cost:350},
{name:"Additional Page (Add-On)",price:299,cost:80},
{name:"Essential Logo Design",price:999,cost:300},
{name:"Elite Logo Design",price:1299,cost:400},
{name:"Single Page Menu Design",price:549,cost:150},
{name:"Double Page Menu Design",price:849,cost:250},
{name:"Banner / Flex Designing (Per Feet)",price:49,cost:10},
{name:"Social Media Post Design",price:249,cost:70}
];

function addRow(){
  let div=document.createElement("div");
  div.className="itemRow";

  let options="";
  services.forEach((service,index)=>{
    options+=`<option value="${index}">${service.name} - ‚Çπ${service.price}</option>`;
  });

  div.innerHTML=`
    <select class="serviceSelect">${options}</select>
    <input type="number" class="qty" value="1" min="1">
    <button onclick="this.parentElement.remove()">‚ùå</button>
  `;

  document.getElementById("items").appendChild(div);
}
addRow();

function createBill(){

  let customer=document.getElementById("customer").value || "N/A";
  let mobile=document.getElementById("mobile").value || "N/A";
  let paymentMode=document.getElementById("paymentMode").value;
  let paid=parseFloat(document.getElementById("paidAmount").value)||0;
  let discount=parseFloat(document.getElementById("discount").value)||0;

  let rows=document.querySelectorAll(".itemRow");

  let subtotal=0;
  let totalCost=0;

  let tableHTML="<table>";
  tableHTML+="<tr><th>Service</th><th>Qty</th><th>Price</th><th>Total</th></tr>";

  rows.forEach(row=>{
    let serviceIndex=row.querySelector(".serviceSelect").value;
    let service=services[serviceIndex];
    let qty=parseFloat(row.querySelector(".qty").value)||1;

    let amount=service.price*qty;
    subtotal+=amount;
    totalCost+=service.cost*qty;

    tableHTML+="<tr>";
    tableHTML+="<td>"+service.name+"</td>";
    tableHTML+="<td>"+qty+"</td>";
    tableHTML+="<td>‚Çπ"+service.price+"</td>";
    tableHTML+="<td>‚Çπ"+amount+"</td>";
    tableHTML+="</tr>";
  });

  tableHTML+="</table>";

  let total=subtotal-discount;
  let balance=total-paid;
  let status=balance>0?"DUE":"PAID";

  let profit=total-totalCost;
  console.log("üí∞ Total Profit:",profit);

  let upiAmount = balance>0 ? balance : total;
  upiLink=`upi://pay?pa=${UPI_ID}&pn=Algum%20Creations&am=${upiAmount}&cu=INR`;

  let date=new Date().toLocaleDateString();
  let invoiceNo="AC-"+Date.now().toString().slice(-6);

  let billHTML=`
  <div id="finalBill" class="invoice">
    <div class="statusBadge ${status==="PAID"?"paid":"due"}">${status}</div>
    <h2 style="text-align:center;">ALGUM CREATIONS</h2>
    <p style="text-align:center;">Where Your Dream Meets With Our Creativity</p>
    <hr>
    <p><strong>Invoice No:</strong> ${invoiceNo}</p>
    <p><strong>Date:</strong> ${date}</p>
    <p><strong>Client:</strong> ${customer}</p>
    <p><strong>Mobile:</strong> ${mobile}</p>
    <p><strong>Payment Mode:</strong> ${paymentMode}</p>
    ${tableHTML}
    <div class="totalBox">
      Subtotal: ‚Çπ${subtotal.toFixed(2)}<br>
      Discount: ‚Çπ${discount.toFixed(2)}<br>
      Grand Total: ‚Çπ${total.toFixed(2)}<br>
      Paid: ‚Çπ${paid.toFixed(2)}<br>
      Balance: ‚Çπ${balance.toFixed(2)}
    </div>
    <div id="qrcode" style="margin-top:20px;"></div>
  </div>`;

  document.getElementById("billPreview").innerHTML=billHTML;

  if(paymentMode==="Online"){
    new QRCode(document.getElementById("qrcode"), upiLink);
  }

  document.getElementById("afterButtons").style.display="block";

  window.billData={customer,mobile,total,status,balance};
}

function downloadBill(){
  html2canvas(document.getElementById("finalBill")).then(canvas=>{
    let link=document.createElement("a");
    link.download="Algum_Creations_Invoice.png";
    link.href=canvas.toDataURL();
    link.click();
  });
}

async function downloadPDF(){
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF('p','mm','a4');
  const canvas = await html2canvas(document.getElementById("finalBill"));
  const imgData = canvas.toDataURL("image/png");
  pdf.addImage(imgData,'PNG',10,10,190,0);
  pdf.save("Algum_Creations_Invoice.pdf");
}

function shareWhatsApp(){
  let data=window.billData;
  if(!data){ alert("Generate Invoice First"); return; }

  let mobile=data.mobile.replace(/\D/g,"");
  if(mobile.length===10){ mobile="91"+mobile; }

  let message=
`‚ú® ALGUM CREATIONS ‚ú®

Invoice Status: ${data.status}
Total: ‚Çπ${data.total}
Balance: ‚Çπ${data.balance}

Pay Here:
${upiLink}

Thank you for choosing us ‚ù§Ô∏è`;

  window.open(`https://wa.me/${mobile}?text=${encodeURIComponent(message)}`,"_blank");
}

</script>

</body>
</html>
